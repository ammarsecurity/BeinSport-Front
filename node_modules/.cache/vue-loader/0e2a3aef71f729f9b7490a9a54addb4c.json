{"remainingRequest":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\beinsport\\src\\pages\\SignUp\\SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\beinsport\\src\\pages\\SignUp\\SignUp.vue","mtime":1619353967422},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"LoginPage\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n      errorMessage: null,\n      form: {\n        fullName: \"\",\n        phoneNumber: \"\",\n        userName: \"\",\n        password: \"\",\n      },\n      isLoading: false,\n      otpform: {\n        key: \"\",\n        otp: \"\",\n      },\n    };\n  },\n  methods: {\n    handleOnComplete(value) {\n      this.otpform.otp = value;\n    },\n    reg() {\n     \n     \n      this.isLoading = true;\n      this.axios\n        .post(\"Auth/SignUp\", this.form)\n        .then((res) => {\n          localStorage.setItem(\"token\", res.data.data);\n          localStorage.setItem(\"role\", res.data.message);\n          this.isLoading = false;\n          this.otpform.key = res.data.data;\n          this.$bvModal.show('OtpModel');\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n\n      sendOtp() {\n      this.isLoading = true;\n      this.axios\n        .post(`Auth/Otp?otp=${this.otpform.otp}&Key=${this.otpform.key}`)\n        .then((res) => {\n          localStorage.setItem(\"token\", res.data.data);\n          localStorage.setItem(\"role\", res.data.message);\n          this.isLoading = false;\n          this.$router.push(\"/sms/addAffiliate\");\n          this.$bvModal.hide('OtpModel');\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n  },\n  created() {\n\n  },\n};\n",{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"SignUp.vue","sourceRoot":"src/pages/SignUp","sourcesContent":["<template>\n  <div class=\"auth-page\">\n    <b-container>\n      <h5 class=\"auth-logo\">\n        <i class=\"fa fa-circle text-primary\"></i>\n        نظام الـ SMS\n        <i class=\"fa fa-circle text-danger\"></i>\n      </h5>\n      <Widget\n        class=\"widget-auth mx-auto\"\n        title=\"<h3 class='mt-0'>تسجيل حساب جديد</h3>\"\n        customHeader\n      >\n        <div class=\"center-elem\">\n          <semipolar-spinner\n            :animation-duration=\"2000\"\n            :size=\"65\"\n            color=\"#ff1d5e\"\n            v-if=\"isLoading\"\n          />\n        </div>\n\n        <p class=\"widget-auth-info\">\n         الرجاء ملئ جميع المعلومات بصورة صحيحة\n        </p>\n        <form class=\"mt\" @submit.prevent=\"reg\">\n          <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n            {{ errorMessage }}\n          </b-alert>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.fullName\"\n              required\n              type=\"text\"\n              name=\"fullName\"\n              placeholder=\"الاسم الكامل\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.phoneNumber\"\n              required\n              type=\"text\"\n              name=\"phoneNumber\"\n              placeholder=\"رقم الهاتف\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.userName\"\n              required\n              type=\"text\"\n              name=\"phoneNumber\"\n              placeholder=\"اسم الدخول\"\n            />\n          </div>\n         \n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.password\"\n              required\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"الرمز السري\"\n            />\n          </div>\n          <b-button\n            type=\"submit\"\n            size=\"sm\"\n            class=\"auth-btn mb-3\"\n            variant=\"inverse\"\n            >دخول</b-button\n          >\n        </form>\n        <p class=\"widget-auth-info\">لديك حساب سابقة</p>\n        <router-link class=\"d-block text-center\" to=\"/\"\n          >تسجيل الدخول</router-link\n        >\n      </Widget>\n    </b-container>\n    <footer class=\"auth-footer\">2021 &copy; الافق <a href=\"#\"></a></footer>\n   \n\n    <b-modal id=\"OtpModel\" hide-footer hide-header no-close-on-backdrop  body-text-variant=\"light\">\n      <div class=\"d-block text-center\" >\n      <img src=\"../../assets/otp.jpg\" alt=\"otp\"  class=\"otpimg\"/>\n      <hr/>\n      <div class=\"center-elem\">\n          <semipolar-spinner\n            :animation-duration=\"2000\"\n            :size=\"65\"\n            color=\"#ff1d5e\"\n            v-if=\"isLoading\"\n          />\n        </div>\n        \n        <v-otp-input\n          style=\"display: flex;justify-content: center;\"\n          inputClasses=\"otp-input\"\n          :numInputs=\"6\"\n          separator=\"-\"\n          :shouldAutoFocus=\"true\"\n          @on-complete=\"handleOnComplete\"\n        />\n      </div>\n      <hr/>\n      <b-row>\n   \n    <b-col cols=\"4\"> <b-button class=\"mt-3\" variant=\"danger\"  block @click=\"$bvModal.hide('OtpModel')\"\n        >غلق</b-button\n      ></b-col>\n\n       <b-col cols=\"8\"><b-button class=\"mt-3\" variant=\"success\" block @click=\"sendOtp()\"\n        >دخول</b-button></b-col>\n    \n  </b-row>\n     \n        \n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"LoginPage\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n      errorMessage: null,\n      form: {\n        fullName: \"\",\n        phoneNumber: \"\",\n        userName: \"\",\n        password: \"\",\n      },\n      isLoading: false,\n      otpform: {\n        key: \"\",\n        otp: \"\",\n      },\n    };\n  },\n  methods: {\n    handleOnComplete(value) {\n      this.otpform.otp = value;\n    },\n    reg() {\n     \n     \n      this.isLoading = true;\n      this.axios\n        .post(\"Auth/SignUp\", this.form)\n        .then((res) => {\n          localStorage.setItem(\"token\", res.data.data);\n          localStorage.setItem(\"role\", res.data.message);\n          this.isLoading = false;\n          this.otpform.key = res.data.data;\n          this.$bvModal.show('OtpModel');\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n\n      sendOtp() {\n      this.isLoading = true;\n      this.axios\n        .post(`Auth/Otp?otp=${this.otpform.otp}&Key=${this.otpform.key}`)\n        .then((res) => {\n          localStorage.setItem(\"token\", res.data.data);\n          localStorage.setItem(\"role\", res.data.message);\n          this.isLoading = false;\n          this.$router.push(\"/sms/addAffiliate\");\n          this.$bvModal.hide('OtpModel');\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n  },\n  created() {\n\n  },\n};\n</script>\n<style>\n.form-control {\n text-align : right\n}\n.otpimg{\n      width: 63%;\n}\n.modal-body {\n    background: #ffffff;\n}\n\n.form-control.no-border {\n    border: none;\n    background-color: #f2f2f2;\n    font-family: 'Almarai', sans-serif;\n    text-align: right;\n}\n.auth-page {\n  direction: rtl;\n  padding-top: 10vh;\n  height: 100vh;\n}\n.center-elem {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.centerotp: {\n  display: flex;\n  justify-content: center;\n}\n.otp-input {\n  width: 40px;\n  height: 40px;\n  padding: 5px;\n  margin: 0 10px;\n  font-size: 20px;\n  border-radius: 4px;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  textalign: \"center\";\n}\n.error {\n  border: 1px solid red !important;\n}\n</style>\n"]}]}