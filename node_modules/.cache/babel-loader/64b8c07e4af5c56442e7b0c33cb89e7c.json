{"remainingRequest":"E:\\code\\beinsport\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\beinsport\\src\\pages\\Admin\\AdminSales.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\beinsport\\src\\pages\\Admin\\AdminSales.vue","mtime":1640703598185},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: {\n    Widget: Widget,\n    SemipolarSpinner: SemipolarSpinner\n  },\n  data: function data() {\n    return {\n      errorMessage: null,\n      stores: [],\n      storeslist: [],\n      isLoading: false,\n      search: {\n        clientName: \"\",\n        storeId: \"\"\n      },\n      allserials: [],\n      pag: 1,\n      index: 0,\n      length: \"\",\n      Next: false,\n      Previous: \"\"\n    };\n  },\n  mounted: function mounted() {\n    this.GetSales();\n    this.getGetStore();\n  },\n  methods: {\n    getGetStore: function getGetStore() {\n      var _this = this;\n\n      this.isLoading = true;\n      this.axios.get(\"Admin/GetStores\").then(function (res) {\n        _this.stores.push({\n          'value': \"\",\n          'text': \"اختر\"\n        });\n\n        _this.storeslist = res.data.data;\n\n        for (var i = 0; i < _this.storeslist.length; i++) {\n          var option = [];\n\n          for (var key in _this.storeslist[i]) {\n            if (key == \"id\") {\n              option[\"value\"] = _this.storeslist[i][key];\n            } else if (key == \"storeName\") {\n              option[\"text\"] = _this.storeslist[i][key];\n            }\n          }\n\n          _this.stores.push(Object.assign({}, option));\n        }\n\n        _this.isLoading = false;\n      }).catch(function (err) {\n        if (err) {\n          _this.$swal(\"Error\", \"Internet Erorr\", \"error\");\n\n          _this.isLoading = false;\n        }\n      });\n    },\n    GetSales: function GetSales() {\n      var _this2 = this;\n\n      this.isLoading = true;\n      this.axios.get(\"Admin/GetSales?skip=0&take=20&storeId=\".concat(this.search.storeId, \"&clientName=\").concat(this.search.clientName)).then(function (res) {\n        _this2.allserials = res.data.data;\n        _this2.isLoading = false;\n      }).catch(function (err) {\n        if (err) {\n          _this2.isLoading = false;\n          _this2.alert = true;\n        }\n      });\n    },\n    getMore: function getMore() {\n      var _this3 = this;\n\n      this.isLoading = true; // if (!this.name && !this.type && this.items.length === 0) return false;\n\n      var tempPage = this.pag + 10;\n      this.axios.get(\"Admin/GetSalesl?skip=\".concat(tempPage - 1, \"&take=20&storeId=\").concat(this.search.storeId, \"&clientName=\").concat(this.search.clientName)).then(function (res) {\n        _this3.Previous = false;\n        _this3.allserials = res.data.data;\n        _this3.isLoading = false;\n        _this3.pag = tempPage;\n        _this3.length = res.data.data.length;\n\n        if (res.data.data.length <= 9) {\n          _this3.Next = true;\n        }\n\n        if (res.data.data == \"\") {\n          _this3.Next = true;\n          _this3.isLoading = false;\n        }\n      }).catch(function (err) {\n        if (err) {\n          _this3.Next = true;\n          _this3.isLoading = false;\n        }\n      });\n    },\n    getLess: function getLess() {\n      var _this4 = this;\n\n      this.isLoading = true;\n      var tempPage = this.pag - 10;\n      this.axios.get(\"Admin/GetSalesl?skip=\".concat(tempPage - 1, \"&take=20&storeId=\").concat(this.search.storeId, \"&clientName=\").concat(this.search.clientName)).then(function (res) {\n        _this4.allserials = res.data.data;\n        _this4.isLoading = false;\n        _this4.pag = tempPage;\n        _this4.Next = false; // console.log(tempPage);\n\n        if (tempPage == 1) {\n          _this4.Previous = true;\n        }\n\n        _this4.length = res.data.data.length;\n      }).catch(function (err) {\n        if (err) {\n          _this4.isLoading = false;\n          _this4.Previous = true;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["AdminSales.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"tables-basic\">\n    <b-row>\n    \n    </b-row>\n    <div class=\"separator\">البحث</div>\n\n    <form class=\"mt\" @submit.prevent=\"GetSales()\">\n      <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n        {{ errorMessage }}\n      </b-alert>\n      <b-row>\n    \n        <b-col>\n          <label style=\"margin-bottom: 6px\">المخزن</label>\n          <b-input-group class=\"mb-3\">\n            <b-form-select\n              style=\"height: 37px\"\n              :options=\"stores\"\n              v-model=\"search.storeId\"\n            />\n          </b-input-group>\n        </b-col>\n\n            <b-col>\n          \n          <div class=\"form-group\">\n    <label style=\"margin-bottom: 6px\">نقطة بيع</label>\n        <input\n          class=\"form-control no-border\"\n          v-model=\"search.clientName\"\n          type=\"text\"\n          name=\"serialInfo\"\n          placeholder=\"\"\n        />\n      </div>\n        </b-col>\n\n\n      </b-row>\n      <b-button type=\"submit\" size=\"sm\" class=\"auth-btn mb-3\" variant=\"inverse\"\n        >بحث</b-button\n      >\n    </form>\n\n    <h2 class=\"page-title\">\n      جدول - <span class=\"fw-semi-bold\">المبيعات</span>\n    </h2>\n    <b-row>\n      <b-col>\n        <Widget\n          title=\"<h5><span class='fw-semi-bold'></span></h5>\"\n          customHeader\n          settings\n          close\n        >\n          <div class=\"table-resposive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>الاسم الكامل</th>\n                  <th>رقم الهاتف</th>\n                  <th>السعر</th>\n                  <th>ID</th>\n                  <th>المخزن</th>\n                  <th>نقطة بيع</th>\n                  <th>التاريخ</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(row, index) in allserials\" v-bind:key=\"row.id\">\n                  <th scope=\"row\">{{ pag - 1 + index + 1 }}</th>\n                  <td>\n                    {{ row.fullName }}\n                  </td>\n                  <td>\n                    {{ row.phoneNumer }}\n                  </td>\n                  <td>\n                    {{ row.price }}\n                  </td>\n                  <td>\n                    {{ row.smartcardID }}\n                  </td>\n                <td>\n                    {{ row.storeName }}\n                  </td>\n                  <td>\n                    {{ row.clinetName }}\n                  </td>\n\n                  <td>\n                    {{ row.insertDate.split(\"T\")[0] }}\n                  </td>\n\n                \n                \n                </tr>\n              </tbody>\n            </table>\n            <div class=\"md-group\">\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-secondary\"\n                  @click=\"getMore()\"\n                  :disabled=\"Next\"\n                >\n                  التالي\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-danger\"\n                  @click=\"getLess()\"\n                  :disabled=\"Previous\"\n                >\n                  السابقة\n                </button>\n              </div>\n            </div>\n          </div>\n        </Widget>\n      </b-col>\n    </b-row>\n\n\n  </div>\n</template>\n\n<script>\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n     \n    \n      errorMessage: null,\n     stores: [],\n      storeslist: [],\n      isLoading: false,\n      search: {\n       clientName : \"\",\n        storeId: \"\",\n    \n      },\n      allserials: [],\n      pag: 1,\n      index: 0,\n      length: \"\",\n      Next: false,\n      Previous: \"\",\n    };\n  },\n  mounted() {\n    this.GetSales();\n   this.getGetStore();\n  },\n  methods: {\n \n\n getGetStore() {\n      this.isLoading = true;\n      this.axios\n        .get(\"Admin/GetStores\")\n        .then((res) => {\n               this.stores.push({'value' : \"\" , 'text' : \"اختر\"});\n          this.storeslist = res.data.data;\n          for (var i = 0; i < this.storeslist.length; i++) {\n            var option = [];\n            for (var key in this.storeslist[i]) {\n              if (key == \"id\") {\n                option[\"value\"] = this.storeslist[i][key];\n              } else if (key == \"storeName\") {\n                option[\"text\"] = this.storeslist[i][key];\n              }\n            }\n            this.stores.push(Object.assign({}, option));\n          }\n\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.$swal(\"Error\", \"Internet Erorr\", \"error\");\n            this.isLoading = false;\n          }\n        });\n    },\n    GetSales() {\n      this.isLoading = true;\n      this.axios\n        .get(`Admin/GetSales?skip=0&take=20&storeId=${this.search.storeId}&clientName=${this.search.clientName}`)\n        .then((res) => {\n          this.allserials = res.data.data;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n\n    getMore: function() {\n      this.isLoading = true;\n\n      // if (!this.name && !this.type && this.items.length === 0) return false;\n      const tempPage = this.pag + 10;\n\n      this.axios\n        .get(\n          `Admin/GetSalesl?skip=${tempPage - 1}&take=20&storeId=${this.search.storeId}&clientName=${this.search.clientName}`\n        )\n\n        .then((res) => {\n          this.Previous = false;\n          this.allserials = res.data.data;\n          this.isLoading = false;\n          this.pag = tempPage;\n          this.length = res.data.data.length;\n\n          if (res.data.data.length <= 9) {\n            this.Next = true;\n          }\n          if (res.data.data == \"\") {\n            this.Next = true;\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.Next = true;\n            this.isLoading = false;\n          }\n        });\n    },\n    getLess: function() {\n      this.isLoading = true;\n\n      const tempPage = this.pag - 10;\n      this.axios\n        .get(\n          `Admin/GetSalesl?skip=${tempPage - 1}&take=20&storeId=${this.search.storeId}&clientName=${this.search.clientName}`\n        )\n        .then((res) => {\n          this.allserials = res.data.data;\n          this.isLoading = false;\n          this.pag = tempPage;\n          this.Next = false;\n          // console.log(tempPage);\n          if (tempPage == 1) {\n            this.Previous = true;\n          }\n          this.length = res.data.data.length;\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.Previous = true;\n          }\n        });\n    },\n\n  },\n};\n</script>\n\n<style>\n.row {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  margin-right: -20px;\n  margin-left: -20px;\n  justify-content: flex-end;\n}\n.afimg {\n  width: 63%;\n}\n\n.form-control {\n  text-align: end;\n}\n\n.btn-group {\n  direction: ltr;\n}\n</style>\n"],"sourceRoot":"src/pages/Admin"}]}