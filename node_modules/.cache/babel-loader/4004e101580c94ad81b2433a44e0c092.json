{"remainingRequest":"E:\\code\\beinsport\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\beinsport\\src\\pages\\Admin\\Stores.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\beinsport\\src\\pages\\Admin\\Stores.vue","mtime":1632738823387},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: {\n    Widget: Widget,\n    SemipolarSpinner: SemipolarSpinner\n  },\n  data: function data() {\n    return {\n      errorMessage: null,\n      isLoading: false,\n      addform: {\n        storeName: \"\"\n      },\n      editform: {\n        storeName: \"\",\n        id: \"\"\n      },\n      stores: [],\n      storeslist: [],\n      index: 0,\n      edit: {\n        storeName: \"\",\n        id: \"\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.GetStores();\n  },\n  methods: {\n    editstore: function editstore() {\n      var _this = this;\n\n      this.isLoading = true;\n      this.axios.put(\"Admin/EditStore?id=\".concat(this.edit.id), this.edit).then(function (res) {\n        if (res) {\n          _this.isLoading = false;\n\n          _this.$swal(\"تم!\", \"  تم التعديل بنحاج\", \"success\");\n\n          _this.GetStores();\n\n          _this.$bvModal.hide(\"editModel\");\n        }\n      }).catch(function (err) {\n        if (err) {\n          _this.isLoading = false;\n\n          _this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n        }\n      });\n    },\n    GetStores: function GetStores() {\n      var _this2 = this;\n\n      this.isLoading = true;\n      this.axios.get(\"Admin/GetStores\").then(function (res) {\n        _this2.storeslist = res.data.data;\n        _this2.isLoading = false;\n      }).catch(function (err) {\n        if (err) {\n          _this2.isLoading = false;\n          _this2.alert = true;\n        }\n      });\n    },\n    getinfo: function getinfo(item) {\n      this.edit.id = item.id;\n      this.edit.storeName = item.storeName;\n      this.$bvModal.show(\"editModel\");\n    },\n    AddStore: function AddStore() {\n      var _this3 = this;\n\n      this.isLoading = true;\n      this.axios.post(\"Admin/AddStore\", this.addform).then(function (res) {\n        if (res) {\n          _this3.GetStores();\n\n          _this3.isLoading = false;\n        }\n      }).catch(function (err) {\n        if (err) {\n          _this3.isLoading = false;\n          _this3.alert = true;\n        }\n      });\n    },\n    deletestore: function deletestore(id) {\n      var _this4 = this;\n\n      this.$swal.fire({\n        title: \"هل انت متأكد؟\",\n        text: \"هل انت متأكد من مسح الصورة!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"نعم, امسح!\",\n        cancelButtonText: \"غلق\"\n      }).then(function (result) {\n        if (result.isConfirmed) {\n          _this4.axios.put(\"Admin/DeleteStore?id=\".concat(id)).then(function (res) {\n            if (res) {\n              _this4.$swal.fire(\"مسح!\", \"تم المسح بنجاح.\", \"success\");\n\n              _this4.GetStores();\n\n              _this4.isLoading = false;\n            }\n          }).catch(function (err) {\n            if (err) {\n              _this4.$toast.open({\n                message: \"خطا في عملية المسح\",\n                type: \"error\",\n                duration: 5000,\n                dismissible: true\n              });\n\n              _this4.isLoading = false;\n            }\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Stores.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"tables-basic\">\n    <div class=\"separator\">البحث</div>\n\n    <form class=\"mt\" @submit.prevent=\"AddStore()\">\n      <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n        {{ errorMessage }}\n      </b-alert>\n  \n      <div class=\"form-group\">\n        <label></label>\n        <input\n          class=\"form-control no-border\"\n          v-model=\"addform.storeName\"\n          type=\"text\"\n          name=\"storeName\"\n          placeholder=\"اسم المخزن\"\n        />\n      </div>\n\n      <b-button type=\"submit\" size=\"sm\" class=\"auth-btn mb-3\" variant=\"inverse\"\n        >اضافة</b-button\n      >\n    </form>\n\n    <h2 class=\"page-title\">\n      جدول - <span class=\"fw-semi-bold\">المخازن</span>\n    </h2>\n    <b-row>\n      <b-col>\n        <Widget\n          title=\"<h5><span class='fw-semi-bold'></span></h5>\"\n          customHeader\n          settings\n          close\n        >\n          <div class=\"table-resposive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>اسم المخزن</th>\n                  <th>اعدادات</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(row, index) in storeslist\" v-bind:key=\"row.id\">\n                  <th scope=\"row\">{{ index + 1 }}</th>\n                  <td>\n                    {{ row.storeName }}\n                  </td>\n                  <td>\n                    <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-success\"\n                  @click=\"getinfo(row)\"\n                 \n                >\n                  تعديل\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-danger\"\n                  @click=\"deletestore(row.id)\"\n                \n                >\n                  مسح\n                </button>\n              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            \n          </div>\n        </Widget>\n      </b-col>\n    </b-row>\n\n    <b-modal\n      id=\"editModel\"\n      hide-footer\n      hide-header\n      no-close-on-backdrop\n      body-text-variant=\"light\"\n    >\n      <div class=\"d-block text-center\">\n        <img src=\"../../assets/af.png\" alt=\"af\" class=\"afimg\" />\n        <hr />\n        <div class=\"center-elem\">\n          <semipolar-spinner\n            :animation-duration=\"2000\"\n            :size=\"65\"\n            color=\"#ff1d5e\"\n            v-if=\"isLoading\"\n          />\n        </div>\n        <form class=\"mt\" @submit.prevent=\"editstore\">\n          <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n            {{ errorMessage }}\n          </b-alert>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.storeName\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"اسم المتجر\"\n            />\n          </div>\n        </b-col>\n          <hr />\n          <b-row>\n            <b-col cols=\"4\">\n              <b-button\n                class=\"mt-3\"\n                variant=\"danger\"\n                block\n                @click=\"$bvModal.hide('editModel')\"\n                >غلق</b-button\n              ></b-col\n            >\n\n            <b-col cols=\"8\"\n              ><b-button class=\"mt-3\" variant=\"success\" block type=\"submit\"\n                >تعديل</b-button\n              ></b-col\n            >\n          </b-row>\n        </form>\n      </div>\n    </b-modal>\n\n  </div>\n</template>\n\n<script>\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n      errorMessage: null,\n      isLoading: false,\n      addform: {\n        storeName: \"\",\n      },\n      editform: {\n        storeName: \"\",\n        id : \"\"\n      }, \n      stores: [],\n      storeslist: [],\n    \n      index: 0,\n      edit  :{\n        storeName : \"\",\n        id : \"\"\n      }\n  \n    };\n  },\n  mounted() {\n\n    this.GetStores();\n  },\n  methods: {\n      editstore() {\n      this.isLoading = true;\n      this.axios\n        .put(`Admin/EditStore?id=${this.edit.id}`, this.edit)\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.$swal(\"تم!\", \"  تم التعديل بنحاج\", \"success\");\n            this.GetStores();\n            this.$bvModal.hide(\"editModel\");\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n\n    GetStores() {\n      this.isLoading = true;\n      this.axios\n        .get(\n          `Admin/GetStores`\n        )\n        .then((res) => {\n          this.storeslist = res.data.data;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n\n\n    getinfo(item) {\n      this.edit.id = item.id;\n      this.edit.storeName = item.storeName;\n      this.$bvModal.show(\"editModel\");\n    },\n\n\n   AddStore() {\n      this.isLoading = true;\n      this.axios\n        .post(`Admin/AddStore`, this.addform )\n        .then((res) => {\n          if(res){\n         this.GetStores();\n          this.isLoading = false;\n\n          }\n        \n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n\n    deletestore(id) {\n      this.$swal\n        .fire({\n          title: \"هل انت متأكد؟\",\n          text: \"هل انت متأكد من مسح الصورة!\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"نعم, امسح!\",\n          cancelButtonText: \"غلق\"\n        })\n        .then(result => {\n          if (result.isConfirmed) {\n            this.axios\n              .put(`Admin/DeleteStore?id=${id}`)\n              .then(res => {\n                if (res) {\n                  this.$swal.fire(\"مسح!\", \"تم المسح بنجاح.\", \"success\");\n\n                     this.GetStores();\n                  this.isLoading = false;\n                }\n              })\n              .catch(err => {\n                if (err) {\n                  this.$toast.open({\n                    message: \"خطا في عملية المسح\",\n                    type: \"error\",\n                    duration: 5000,\n                    dismissible: true\n                  });\n                  this.isLoading = false;\n                }\n              });\n          }\n        });\n    }\n  },\n};\n</script>\n\n<style>\n.afimg {\n  width: 63%;\n}\n\n.form-control {\n  text-align: end;\n}\n\n.btn-group {\n  direction: ltr;\n}\n</style>\n"],"sourceRoot":"src/pages/Admin"}]}