{"remainingRequest":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\beinsport\\src\\pages\\User\\AddAffiliate.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\code\\beinsport\\src\\pages\\User\\AddAffiliate.vue","mtime":1619444703949},{"path":"E:\\code\\beinsport\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.afimg {\n  width: 63%;\n}\n\n.form-control {\n  text-align: end;\n}\n\n.btn-group {\n  direction: ltr;\n}\n",{"version":3,"sources":["AddAffiliate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoXA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"AddAffiliate.vue","sourceRoot":"src/pages/User","sourcesContent":["<template>\n  <div class=\"tables-basic\">\n    <b-row>\n      <b-col class=\"d-flex flex-row-reverse\">\n        <b-button variant=\"success\" v-b-modal.addModel>اضافة لوحة</b-button>\n      </b-col>\n    </b-row>\n    <h2 class=\"page-title\">\n      جدول - <span class=\"fw-semi-bold\">لوحات التفعيل</span>\n    </h2>\n    <b-row>\n      <b-col>\n        <Widget\n          title=\"<h5><span class='fw-semi-bold'>اعدادت</span></h5>\"\n          customHeader\n          settings\n          close\n        >\n          <div class=\"table-resposive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th>اسم الافليت </th>\n                  <th>اليوزر نيم</th>\n                  <th class=\"hidden-sm-down\">الباسورد</th>\n                  <th class=\"hidden-sm-down\">الاعدادات</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"row in affilliateslist\" :key=\"row.id\">\n                  <td>\n                    {{ row.affiliateId }}\n                  </td>\n                  <td>\n                    {{ row.userName }}\n                  </td>\n                  <td>\n                    <p class=\"mb-0\">\n                      <small>\n                        <span class=\"fw-semi-bold\">الرمز السري:</span>\n                        <span class=\"text-muted\"\n                          >&nbsp; {{ row.password }}</span\n                        >\n                      </small>\n                    </p>\n                    <p>\n                      <small>\n                        <span class=\"fw-semi-bold\" style=\"color:#ff1d5e;\"\n                          >رمز التفعيل:</span\n                        >\n                        <span class=\"text-muted\"\n                          >&nbsp; {{ row.depositPassword }}</span\n                        >\n                      </small>\n                    </p>\n                  </td>\n\n                  <td class=\"width-150\">\n                    <b-button-group>\n                      <b-button variant=\"warning\" @click=\"deleteaf(row.id)\"\n                        >مسح</b-button\n                      >\n                      <b-button variant=\"info\" @click=\"getafinfo(row)\"\n                        >تعديل</b-button\n                      >\n                    </b-button-group>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </Widget>\n      </b-col>\n    </b-row>\n\n    <b-modal\n      id=\"addModel\"\n      hide-footer\n      hide-header\n      no-close-on-backdrop\n      body-text-variant=\"light\"\n    >\n      <div class=\"d-block text-center\">\n        <img src=\"../../assets/af.png\" alt=\"af\" class=\"afimg\" />\n        <hr />\n        <div class=\"center-elem\">\n          <semipolar-spinner\n            :animation-duration=\"2000\"\n            :size=\"65\"\n            color=\"#ff1d5e\"\n            v-if=\"isLoading\"\n          />\n        </div>\n        <form class=\"mt\" @submit.prevent=\"addaf\">\n          <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n            {{ errorMessage }}\n          </b-alert>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.affiliateId\"\n              required\n              type=\"text\"\n              name=\"affiliateId\"\n              placeholder=\"@Test  اسم الافليت : مثال\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.userName\"\n              required\n              type=\"text\"\n              name=\"userName\"\n              placeholder=\"رمز الدخول\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.password\"\n              required\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"الرمز السري\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.depositPassword\"\n              required\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"رمز التفعيل\"\n            />\n          </div>\n\n          <hr />\n          <b-row>\n            <b-col cols=\"4\">\n              <b-button\n                class=\"mt-3\"\n                variant=\"danger\"\n                block\n                @click=\"$bvModal.hide('addModel')\"\n                >غلق</b-button\n              ></b-col\n            >\n\n            <b-col cols=\"8\"\n              ><b-button class=\"mt-3\" variant=\"success\" block type=\"submit\"\n                >اضافة</b-button\n              ></b-col\n            >\n          </b-row>\n        </form>\n      </div>\n    </b-modal>\n\n    <b-modal\n      id=\"editModel\"\n      hide-footer\n      hide-header\n      no-close-on-backdrop\n      body-text-variant=\"light\"\n    >\n      <div class=\"d-block text-center\">\n        <img src=\"../../assets/af.png\" alt=\"af\" class=\"afimg\" />\n        <hr />\n        <div class=\"center-elem\">\n          <semipolar-spinner\n            :animation-duration=\"2000\"\n            :size=\"65\"\n            color=\"#ff1d5e\"\n            v-if=\"isLoading\"\n          />\n        </div>\n        <form class=\"mt\" @submit.prevent=\"editaf\">\n          <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n            {{ errorMessage }}\n          </b-alert>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.affiliateId\"\n              required\n              type=\"text\"\n              name=\"affiliateId\"\n              placeholder=\"@Test  المعرف : مثال\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.userName\"\n              required\n              type=\"text\"\n              name=\"userName\"\n              placeholder=\"رمز الدخول\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.password\"\n              required\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"الرمز السري\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.depositPassword\"\n              required\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"رمز الايداع\"\n            />\n          </div>\n\n          <hr />\n          <b-row>\n            <b-col cols=\"4\">\n              <b-button\n                class=\"mt-3\"\n                variant=\"danger\"\n                block\n                @click=\"$bvModal.hide('editModel')\"\n                >غلق</b-button\n              ></b-col\n            >\n\n            <b-col cols=\"8\"\n              ><b-button class=\"mt-3\" variant=\"success\" block type=\"submit\"\n                >تعديل</b-button\n              ></b-col\n            >\n          </b-row>\n        </form>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n      errorMessage: null,\n      affilliateslist: [],\n      isLoading: false,\n      form: {},\n      edit: {\n        userName: \"\",\n        affiliateId: \"\",\n        password: \"\",\n        depositPassword: \"\",\n        id: \"\",\n      },\n    };\n  },\n  mounted() {\n    this.getaffilliates();\n  },\n  methods: {\n    getaffilliates() {\n      this.isLoading = true;\n      this.axios\n        .get(\"/SmsSenders/GetAffilliates\")\n        .then((res) => {\n          this.affilliateslist = res.data.data;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n\n    getafinfo(item) {\n      this.edit.id = item.id;\n      this.edit.affiliateId = item.affiliateId;\n      this.edit.userName = item.userName;\n      this.edit.password = item.password;\n      this.edit.depositPassword = item.depositPassword;\n      this.$bvModal.show(\"editModel\");\n    },\n\n    addaf() {\n      this.isLoading = true;\n      this.axios\n        .post(\"/SmsSenders/AddAffilliate\", this.form)\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.getaffilliates();\n            this.$bvModal.hide(\"addModel\");\n            this.form = {};\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n    editaf() {\n      this.isLoading = true;\n      this.axios\n        .put(\n          `/SmsSenders/EditAffilliates?AffiliateId=${this.edit.id}`,\n          this.edit\n        )\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.$swal(\"تم!\", \"  تم التعديل بنحاج\", \"success\");\n            this.getaffilliates();\n            this.$bvModal.hide(\"editModel\");\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n    deleteaf(id) {\n      this.$swal({\n        title: \"هل انت متأكد?\",\n        text: \"لايمكن الاسترجاع لاحقا\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n      }).then((willDelete) => {\n        if (willDelete) {\n          this.axios\n            .put(`/SmsSenders/DeleteAffilliates?AffiliateId=${id}`)\n            .then((res) => {\n              if (res) {\n                this.isLoading = false;\n                this.$swal(\"تم!\", \"تم المسح بنحاج.\", \"success\");\n                this.getaffilliates();\n              }\n            })\n            .catch((err) => {\n              if (err) {\n                this.isLoading = false;\n                this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n              }\n            });\n        } else {\n          this.$swal(\"لم يتم مسح العنصر\");\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.afimg {\n  width: 63%;\n}\n\n.form-control {\n  text-align: end;\n}\n\n.btn-group {\n  direction: ltr;\n}\n</style>\n"]}]}