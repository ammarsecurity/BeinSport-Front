{"remainingRequest":"E:\\code\\m-sms\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\m-sms\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\code\\m-sms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\m-sms\\src\\pages\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\m-sms\\src\\pages\\Login\\Login.vue","mtime":1618962282477},{"path":"E:\\code\\m-sms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\m-sms\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\m-sms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\m-sms\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"LoginPage\",\n  components: {\n    Widget: Widget,\n    SemipolarSpinner: SemipolarSpinner\n  },\n  data: function data() {\n    return {\n      isLoading: false,\n      errorMessage: null,\n      form: {\n        nameOrPhone: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      this.isLoading = true;\n      this.axios.post(\"Auth/Login\", this.form).then(function (res) {\n        localStorage.setItem(\"token\", res.data.data);\n        localStorage.setItem(\"role\", res.data.message);\n        _this.isLoading = false;\n        var role = res.data.message;\n\n        if (role === \"Admin\") {\n          _this.$router.push(\"/Admin/DashBoard\");\n        } else if (role === \"User\") {\n          _this.$router.push(\"/User/AddAffiliate\");\n        }\n      }).catch(function (err) {\n        if (err) {\n          _this.isLoading = false;\n          _this.alert = true;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA,OAAA,MAAA,MAAA,4BAAA;AACA,SAAA,gBAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,gBAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA;AAHA,KAAA;AAQA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,KAAA,CACA,IADA,CACA,YADA,EACA,KAAA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AAEA,YAAA,IAAA,KAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,kBAAA;AACA,SAFA,MAEA,IAAA,IAAA,KAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,oBAAA;AACA;AACA,OAbA,EAcA,KAdA,CAcA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA;AACA,OAnBA;AAoBA;AAvBA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"auth-page\">\n    <b-container>\n     \n      <h5 class=\"auth-logo\">\n        <i class=\"fa fa-circle text-primary\"></i>\n        نظام الـ SMS\n        <i class=\"fa fa-circle text-danger\"></i>\n      </h5>\n      <Widget\n        class=\"widget-auth mx-auto\"\n        title=\"<h3 class='mt-0'>لوحة تسجيل الدخول</h3>\"\n        customHeader\n      >\n      <div class=\"center-elem\">\n        <semipolar-spinner\n        :animation-duration=\"2000\"\n        :size=\"65\"\n        color=\"#ff1d5e\"\n         v-if=\"isLoading\"\n      />\n      </div>\n     \n        <p class=\"widget-auth-info\">\n          استخدم البيانات التي قمت بالتسجيل فيها\n        </p>\n        <form class=\"mt\" @submit.prevent=\"login\">\n          <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n            {{ errorMessage }}\n          </b-alert>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.nameOrPhone\"\n              required\n              type=\"text\"\n              name=\"nameOrPhone\"\n              placeholder=\"اسم الحساب او رقم الهاتف\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.password\"\n              required\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"الرمز السري\"\n            />\n          </div>\n          <b-button\n            type=\"submit\"\n            size=\"sm\"\n            class=\"auth-btn mb-3\"\n            variant=\"inverse\"\n            >دخول</b-button\n          >\n          <!-- <p class=\"widget-auth-info\">or sign in with</p>\n          <div class=\"social-buttons\">\n            <b-button variant=\"primary\" class=\"social-button mb-2\">\n              <i class=\"social-icon social-google\"></i>\n              <p class=\"social-text\">GOOGLE</p>\n            </b-button>\n            <b-button variant=\"success\" class=\"social-button\">\n              <i class=\"social-icon social-microsoft\"></i>\n              <p class=\"social-text\">MICROSOFT</p>\n            </b-button>\n          </div> -->\n        </form>\n        <p class=\"widget-auth-info\">ليس لديك حساب أنشا حساب الان</p>\n        <router-link class=\"d-block text-center\" to=\"signUp\"\n          >انشاء حساب جديد</router-link\n        >\n      </Widget>\n    </b-container>\n    <footer class=\"auth-footer\">2021 &copy; الافق <a href=\"#\"></a></footer>\n  </div>\n</template>\n\n<script>\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"LoginPage\",\n  components: { Widget , SemipolarSpinner},\n  data() {\n    return {\n      isLoading : false,\n      errorMessage: null,\n      form: {\n        nameOrPhone: \"\",\n        password: \"\",\n      },\n    };\n  },\n  methods: {\n    login() {\n      this.isLoading = true;\n      this.axios\n        .post(\"Auth/Login\", this.form)\n        .then((res) => {\n          localStorage.setItem(\"token\", res.data.data);\n          localStorage.setItem(\"role\", res.data.message);\n          this.isLoading = false;\n          const role = res.data.message;\n\n          if (role === \"Admin\") {\n            this.$router.push(\"/Admin/DashBoard\");\n          } else if (role === \"User\") {\n            this.$router.push(\"/User/AddAffiliate\");\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n  },\n\n};\n</script>\n<style>\n.auth-page {\n  direction: rtl;\n  padding-top: 10vh;\n  height: 100vh;\n}\n.center-elem{\n\n  display: flex;\n    justify-content: center;\n    align-items: center;\n}\n</style>\n"],"sourceRoot":"src/pages/Login"}]}