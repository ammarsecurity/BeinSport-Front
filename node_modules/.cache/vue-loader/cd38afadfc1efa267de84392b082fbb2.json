{"remainingRequest":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\beinsport\\src\\pages\\Admin\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\beinsport\\src\\pages\\Admin\\Users.vue","mtime":1632919703588},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\beinsport\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\beinsport\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n      search: {\n        fullName: \"\",\n      },\n      errorMessage: null,\n      userslist: [],\n      isLoading: false,\n  \n      form: {\n        role : \"User\"\n      },\n      edit: {\n        storeId: \"\",\n        userPhone: \"\",\n        userPhone2: \"\",\n        userPassword: \"\",\n        id: \"\",\n        role : \"\"\n      \n      },\n      storeslist: [],\n      stores: [],\n    };\n  },\n  mounted() {\n    this.users();\n    this.getGetStore();\n  },\n  methods: {\n    users() {\n      this.isLoading = true;\n      this.axios\n        .get(\n          `Admin/GetUser`\n        )\n        .then((res) => {\n          this.userslist = res.data.data;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n\n    getGetStore() {\n      this.isLoading = true;\n      this.axios\n        .get(\"Admin/GetStores\")\n        .then((res) => {\n          this.storeslist = res.data.data;\n          for (var i = 0; i < this.storeslist.length; i++) {\n            var option = [];\n            for (var key in this.storeslist[i]) {\n              if (key == \"id\") {\n                option[\"value\"] = this.storeslist[i][key];\n              } else if (key == \"storeName\") {\n                option[\"text\"] = this.storeslist[i][key];\n              }\n            }\n            this.stores.push(Object.assign({}, option));\n          }\n\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.$swal(\"Error\", \"Internet Erorr\", \"error\");\n            this.isLoading = false;\n          }\n        });\n    },\n\n    getuserinfo(item) {\n      this.edit.id = item.id;\n      this.edit.storeId = item.storeId;\n      this.edit.userPhone = item.userPhone;\n      this.edit.userPhone2 = item.userPhone2;\n      this.edit.userPassword = item.userPassword;\n      this.edit.role = item.role;\n      this.$bvModal.show(\"editModel\");\n    },\n\n\n    edituser() {\n      this.isLoading = true;\n      this.axios\n        .put(`Admin/EditUser?id=${this.edit.id}`, this.edit)\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.$swal(\"تم!\", \"  تم التعديل بنحاج\", \"success\");\n            this.users();\n            this.$bvModal.hide(\"editModel\");\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n    adduser() {\n      this.isLoading = true;\n      this.axios\n        .post(`Admin/AddUser` , this.form)\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.$swal(\"تم!\", \"  تم الاضافة بنحاج\", \"success\");\n            this.users();\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n\n        deleteuser(id) {\n      this.$swal\n        .fire({\n          title: \"هل انت متأكد؟\",\n          text: \"هل انت متأكد من مسح !\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"نعم, امسح!\",\n          cancelButtonText: \"غلق\"\n        })\n        .then(result => {\n          if (result.isConfirmed) {\n            this.axios\n              .put(`Admin/DeleteUser?id=${id}`)\n              .then(res => {\n                if (res) {\n                  this.$swal.fire(\"مسح!\", \"تم المسح بنجاح.\", \"success\");\n\n                     this.users();\n                  this.isLoading = false;\n                }\n              })\n              .catch(err => {\n                if (err) {\n                  this.$toast.open({\n                    message: \"خطا في عملية المسح\",\n                    type: \"error\",\n                    duration: 5000,\n                    dismissible: true\n                  });\n                  this.isLoading = false;\n                }\n              });\n          }\n        });\n    }\n\n   \n  },\n};\n",{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Users.vue","sourceRoot":"src/pages/Admin","sourcesContent":["<template>\n  <div class=\"tables-basic\">\n    <form class=\"mt\" @submit.prevent=\"adduser()\">\n      <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n        {{ errorMessage }}\n      </b-alert>\n      <b-row>\n        <b-col>\n          <label style=\"margin-bottom: 6px\">اضافة عضو اعضاء</label>\n          <b-input-group class=\"mb-3\">\n            <b-form-select\n              style=\"height: 37px\"\n              :options=\"stores\"\n              v-model=\"form.storeId\"\n            />\n          </b-input-group>\n        </b-col>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.userPhone\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"اسم الدخول\"\n            />\n          </div>\n        </b-col>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.userPhone2\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"رقم الهاتف\"\n            />\n          </div>\n        </b-col>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"form.userPassword\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"الرمز السري\"\n            />\n          </div>\n               \n        </b-col>\n\n          <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <select  class=\"form-control no-border\" v-model=\"form.role\">\n              <option value=\"0\">اختيار العضوية</option>\n              <option value=\"Admin\">أدارة</option>\n              <option value=\"User\">مخزن</option>\n              <option value=\"Client\">نقطة بيع</option>\n            </select>\n          </div>\n        </b-col>\n      </b-row>\n      <b-button type=\"submit\" size=\"sm\" class=\"auth-btn mb-3\" variant=\"inverse\"\n        >اضافة</b-button\n      >\n    </form>\n    <h2 class=\"page-title\">\n      جدول - <span class=\"fw-semi-bold\">المتشركين</span>\n    </h2>\n    <b-row>\n      <b-col>\n        <Widget\n          title=\"<h5><span class='fw-semi-bold'>اعدادت</span></h5>\"\n          customHeader\n          settings\n          close\n        >\n          <div class=\"table-resposive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th>اسم الدخول</th>\n                  <th>رقم الهاتف</th>\n                  <th>الرقم السري</th>\n                  <th>العضوية</th>\n                  <th>المخزن</th>\n                  <th>اعدادات</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"row in userslist\" :key=\"row.id\">\n                  <td>\n                    {{ row.userPhone }}\n                  </td>\n                  <td>\n                    {{ row.userPhone2 }}\n                  </td>\n                  <td>\n                    {{ row.userPassword }}\n                  </td>\n                  <td v-if=\"row.role == 'Admin'\">  ادارة </td>\n                  <td v-if=\"row.role == 'User'\">  مخزن </td>\n                  <td v-if=\"row.role == 'Client'\">  نقطة بيع </td>\n                \n                  <td>\n                    {{ row.storeName }}\n                  </td>\n             \n                  <td class=\"width-150\">\n                    <b-button-group>\n                      <b-button variant=\"warning\" @click=\"deleteuser(row.id)\"\n                        >مسح</b-button\n                      >\n                      <b-button variant=\"info\" @click=\"getuserinfo(row)\"\n                        >تعديل</b-button\n                      >\n                    </b-button-group>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n           \n          </div>\n        </Widget>\n      </b-col>\n    </b-row>\n    <b-row>\n      <div class=\"center-elem\">\n        <semipolar-spinner\n          :animation-duration=\"2000\"\n          :size=\"65\"\n          color=\"#ff1d5e\"\n          v-if=\"isLoading\"\n        />\n      </div>\n    </b-row>\n    <b-modal\n      id=\"editModel\"\n      hide-footer\n      hide-header\n      no-close-on-backdrop\n      body-text-variant=\"light\"\n    >\n      <div class=\"d-block text-center\">\n        <img src=\"../../assets/af.png\" alt=\"af\" class=\"afimg\" />\n        <hr />\n        <div class=\"center-elem\">\n          <semipolar-spinner\n            :animation-duration=\"2000\"\n            :size=\"65\"\n            color=\"#ff1d5e\"\n            v-if=\"isLoading\"\n          />\n        </div>\n        <form class=\"mt\" @submit.prevent=\"edituser\">\n          <b-alert class=\"alert-sm\" variant=\"danger\" :show=\"!!errorMessage\">\n            {{ errorMessage }}\n          </b-alert>\n           <b-col>\n          <label style=\"margin-bottom: 6px\">المخزن</label>\n          <b-input-group class=\"mb-3\">\n            <b-form-select\n              style=\"height: 37px\"\n              :options=\"stores\"\n              v-model=\"edit.storeId\"\n            />\n          </b-input-group>\n        </b-col>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.userPhone2\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"رقم الهاتف\"\n            />\n          </div>\n        </b-col>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.userPhone\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"اسم الدخول \"\n            />\n          </div>\n        </b-col>\n        <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <input\n              class=\"form-control no-border\"\n              v-model=\"edit.userPassword\"\n              type=\"text\"\n              name=\"serialInfo\"\n              placeholder=\"الرمز السري\"\n            />\n          </div>\n        </b-col>\n\n            <b-col>\n          <div class=\"form-group\">\n            <label></label>\n            <select  class=\"form-control no-border\" v-model=\"edit.role\">\n              <option value=\"Admin\">أدارة</option>\n              <option value=\"User\">مخزن</option>\n            </select>\n          </div>\n        </b-col>\n\n          <hr />\n          <b-row>\n            <b-col cols=\"4\">\n              <b-button\n                class=\"mt-3\"\n                variant=\"danger\"\n                block\n                @click=\"$bvModal.hide('editModel')\"\n                >غلق</b-button\n              ></b-col\n            >\n\n            <b-col cols=\"8\"\n              ><b-button class=\"mt-3\" variant=\"success\" block type=\"submit\"\n                >تعديل</b-button\n              ></b-col\n            >\n          </b-row>\n        </form>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport Widget from \"@/components/Widget/Widget\";\nimport { SemipolarSpinner } from \"epic-spinners\";\nexport default {\n  name: \"Affilliate\",\n  components: { Widget, SemipolarSpinner },\n  data() {\n    return {\n      search: {\n        fullName: \"\",\n      },\n      errorMessage: null,\n      userslist: [],\n      isLoading: false,\n  \n      form: {\n        role : \"User\"\n      },\n      edit: {\n        storeId: \"\",\n        userPhone: \"\",\n        userPhone2: \"\",\n        userPassword: \"\",\n        id: \"\",\n        role : \"\"\n      \n      },\n      storeslist: [],\n      stores: [],\n    };\n  },\n  mounted() {\n    this.users();\n    this.getGetStore();\n  },\n  methods: {\n    users() {\n      this.isLoading = true;\n      this.axios\n        .get(\n          `Admin/GetUser`\n        )\n        .then((res) => {\n          this.userslist = res.data.data;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.alert = true;\n          }\n        });\n    },\n\n    getGetStore() {\n      this.isLoading = true;\n      this.axios\n        .get(\"Admin/GetStores\")\n        .then((res) => {\n          this.storeslist = res.data.data;\n          for (var i = 0; i < this.storeslist.length; i++) {\n            var option = [];\n            for (var key in this.storeslist[i]) {\n              if (key == \"id\") {\n                option[\"value\"] = this.storeslist[i][key];\n              } else if (key == \"storeName\") {\n                option[\"text\"] = this.storeslist[i][key];\n              }\n            }\n            this.stores.push(Object.assign({}, option));\n          }\n\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          if (err) {\n            this.$swal(\"Error\", \"Internet Erorr\", \"error\");\n            this.isLoading = false;\n          }\n        });\n    },\n\n    getuserinfo(item) {\n      this.edit.id = item.id;\n      this.edit.storeId = item.storeId;\n      this.edit.userPhone = item.userPhone;\n      this.edit.userPhone2 = item.userPhone2;\n      this.edit.userPassword = item.userPassword;\n      this.edit.role = item.role;\n      this.$bvModal.show(\"editModel\");\n    },\n\n\n    edituser() {\n      this.isLoading = true;\n      this.axios\n        .put(`Admin/EditUser?id=${this.edit.id}`, this.edit)\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.$swal(\"تم!\", \"  تم التعديل بنحاج\", \"success\");\n            this.users();\n            this.$bvModal.hide(\"editModel\");\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n    adduser() {\n      this.isLoading = true;\n      this.axios\n        .post(`Admin/AddUser` , this.form)\n        .then((res) => {\n          if (res) {\n            this.isLoading = false;\n            this.$swal(\"تم!\", \"  تم الاضافة بنحاج\", \"success\");\n            this.users();\n          }\n        })\n        .catch((err) => {\n          if (err) {\n            this.isLoading = false;\n            this.$swal(\"خطا!\", \"حدث خطا ما\", \"error\");\n          }\n        });\n    },\n\n        deleteuser(id) {\n      this.$swal\n        .fire({\n          title: \"هل انت متأكد؟\",\n          text: \"هل انت متأكد من مسح !\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"نعم, امسح!\",\n          cancelButtonText: \"غلق\"\n        })\n        .then(result => {\n          if (result.isConfirmed) {\n            this.axios\n              .put(`Admin/DeleteUser?id=${id}`)\n              .then(res => {\n                if (res) {\n                  this.$swal.fire(\"مسح!\", \"تم المسح بنجاح.\", \"success\");\n\n                     this.users();\n                  this.isLoading = false;\n                }\n              })\n              .catch(err => {\n                if (err) {\n                  this.$toast.open({\n                    message: \"خطا في عملية المسح\",\n                    type: \"error\",\n                    duration: 5000,\n                    dismissible: true\n                  });\n                  this.isLoading = false;\n                }\n              });\n          }\n        });\n    }\n\n   \n  },\n};\n</script>\n\n<style>\n.afimg {\n  width: 63%;\n}\n\n.form-control {\n  text-align: end;\n}\n\n.btn-group {\n  direction: ltr;\n}\n\n.center-elem {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n"]}]}